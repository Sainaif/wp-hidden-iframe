# Secure Hash & Embed Manager

**Version:** 0.9  
**Author:** Sainaif  
**GitHub:** [Sainaif](https://github.com/Sainaif)

## Description

The Secure Hash & Embed Manager plugin provides a secure way to manage video embed links in WordPress. It hides the real video URLs and serves them via hashed identifiers. In addition, the plugin features:
- CRUD (Create, Read, Update, Delete) operations for video records.
- Automatic database table creation and default options on activation.
- An admin page with functionalities to add, edit, delete, search, and sort video records.
- AJAX integration to fetch secure video URLs.
- DevTools detection with obfuscated blocking code (optional & configurable).
- An additional database management page for backup (JSON), restore, reset, and CSV import.
- Customizable field width for admin input.

## Installation

1. **Upload Plugin Files:**  
   Upload the plugin folder to the `/wp-content/plugins/` directory.

2. **Activate the Plugin:**  
   Activate the plugin through the 'Plugins' menu in WordPress.

3. **Database Setup:**  
   On activation, the plugin automatically creates a database table (`wp_secure_embed_videos`) for managing video records.

## Usage

### Admin Area
- **Main Admin Page:**
  - Add a new video record by filling out the **Admin-Only Name**, **Embed Name (public)**, and **Real Video URL**.
  - Edit or delete existing video records via inline confirmations.
  - Search and sort the records based on ID.

- **Database Management:**
  - **Backup:** Download all video records as a JSON file.
  - **Restore:** Upload a JSON file backup to restore records. *Warning: This will overwrite existing records.*
  - **Reset:** Remove all records and reset the database table.
  - **CSV Import:** Bulk import records from a CSV file. Expected CSV format: `DB Name, Embed Name, Real Video URL`.

- **Plugin Settings:**
  - Enable/Disable DevTools blocking.
  - Configure the DevTools 404 redirect URL.
  - Adjust the input field width (default is 400px; range 50px - 2000px).
  - Show or hide the Edit/Delete buttons.

### Front-end Usage
- The plugin provides an AJAX endpoint to retrieve the real video URL for a given hashed unique ID.
- Front-end scripts handle toggling of video iframes and retrieving video URLs securely.

## Customization

Developers can modify or extend the functionality:
- **Unique ID Generation:** The unique identifier is generated by `secure_embed_generate_unique_id()`. Customize if needed.
- **AJAX Handler:** Modify `secure_embed_ajax_fetch_link()` to add further validations or logging.
- **DevTools Blocking:** The obfuscated JavaScript for DevTools detection is enabled based on plugin settings.

## Support

For support or feature requests, please open an issue on the [GitHub repository](https://github.com/Sainaif).

## License

This project is licensed under the MIT License. See [LICENSE](LICENSE) for details.